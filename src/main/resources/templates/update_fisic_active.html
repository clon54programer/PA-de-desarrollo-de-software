<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Actualizar activo fisico</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Buscar activo fisico</h1>

    <!-- Formulario -->
    <form th:action="@{/update_fisic_active}" method="post">
        <input type="text" name="name" th:value="${name}" placeholder="Ingrese nombre">
        <button type="submit">Buscar</button>
    </form>


    <form th:action="@{/update_fisic_active}" method="post">
        <input type="text" name="id" th:value="${id}" placeholder="Ingrese el id del activo">
        <button type="submit">Buscar</button>
    </form>

    <p th:if="${fisic == null}">
        No existe ningun elemento con es ID.
    </p>

    <form th:if="${fisic != null}" th:action="@{/update_fisic_active/save}" method="post" th:object="${active}">

        <input type="hidden" th:field="*{id}" />
        <!-- Campos comunes -->
        <label>Nombre:</label>
        <input type="text" th:field="*{name}" />
        <br />
        <label>Descripción:</label>
        <input type="text" th:field="*{descripcion}" />
        <br />
        <label>Valor:</label>
        <input type="number" step="0.01" th:field="*{valor}" />
        <br /><br />


        <label>Ubicación:</label>
        <input type="text" th:field="*{ubicacion}" />
        <br />
        <label>Estado:</label>
        <select th:field="*{estado}">
            <option th:each="estado : ${estados}" th:value="${estado}" th:text="${estado}">
            </option>
        </select>




        <br />
        <button type="submit">Guardar</button>
    </form>


    <!-- Resultados -->
    <div th:if="${fisic_results != null}">
        <h2>Resultados</h2>
        <table border="1" cellpadding="8" cellspacing="0">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Ubicación</th>
                    <th>Estado</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody>

                <!-- Ejemplo dinámico con Thymeleaf -->
                <tr th:each="activo : ${fisic_results}">
                    <td th:text="${activo.id}"></td>
                    <td th:text="${activo.name}"></td>
                    <td th:text="${activo.descripcion}"></td>
                    <td th:text="${activo.ubicacion}"></td>
                    <td th:text="${activo.estado}"></td>
                    <td th:text="${activo.valor}"></td>
                </tr>
            </tbody>
        </table>
        <div th:if="${#lists.isEmpty(fisic_results)}">
            <p>No se encontraron resultados para "<span th:text="${name_find}"></span>"</p>
        </div>
    </div>

    <a href="/">home</a>
</body>

</html>